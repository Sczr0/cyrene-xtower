{
  "task": "将现有 Node+Python 抽卡计算器迁移并集成到 SvelteKit 项目中",
  "projectRoot": "D:/git/cyrene.xtower.site/cyrene-xtower",
  "entry": "src/routes/+page.svelte",
  "backend": "SvelteKit 2 on Node (Vite)",
  "gachaCalculator": {
    "nodeWrapper": "test2.js",
    "pythonCore": "test.py",
    "argsShape": {
      "game": "genshin | hsr | zzz",
      "pool": "character | weapon | lightcone",
      "targetCount": "number",
      "up4C6": "boolean",
      "budget": "number | null",
      "mode": "expectation | distribution",
      "initialState": {
        "pity": "number",
        "isGuaranteed": "boolean",
        "mingguangCounter": "number",
        "fatePoint": "number"
      }
    },
    "pythonOutput": {
      "distribution": "pulls{mean,p25,p50,p75,p90,p95}, success_rate?, returns?",
      "expectation": "mean"
    }
  },
  "tests": {
    "framework": "vitest",
    "existingSpecs": [
      "src/demo.spec.ts",
      "src/routes/page.svelte.spec.ts"
    ],
    "command": "pnpm test"
  },
  "uiReference": "test.png 仪表盘风格统计卡片布局",
  "currentTask": {
    "id": "add-distribution-curve-chart",
    "summary": "在右侧结果面板中基于抽数分布分位点绘制曲线图，并标记用户预算位置以直观展示欧皇/非酋区间",
    "targetFiles": [
      "src/routes/+page.svelte"
    ]
  },
  "notes": [
    "前端使用 TailwindCSS 4 实现仪表盘样式",
    "后端通过 child_process.spawn 调用 test.py",
    "以 JSON API /api/gacha 暴露计算结果",
    "根路由页面提供表单和结果展示"
  ]
}
