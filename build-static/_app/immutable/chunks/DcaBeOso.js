import{a as z,B as ie,G as M,h as C,O as ne,C as re,l as B,P as le,D as se,H as oe,F as H,I as U,e as D,Q as ue,R as ce,S as Z,c as de,b as I,s as pe,M as fe,T as V,U as $,V as ge,W as X,r as J,p as ve,X as K,Y as me,Z as N,_ as he,$ as be,a0 as _e,a1 as ye,d as Le,a2 as Q,a3 as j,a4 as xe,a5 as Ee,a6 as Ce,a7 as Se,a8 as ke,a9 as Te}from"./DZ5MHDeQ.js";function Oe(e,t){return t}function we(e,t,a){for(var u=[],s=t.length,d=0;d<s;d++)be(t[d].e,u,!0);_e(u,()=>{var l=u.length===0&&a!==null;if(l){var g=a,L=g.parentNode;ye(L),L.append(g),e.items.clear(),y(e,t[0].prev,t[s-1].next)}for(var n=0;n<s;n++){var p=t[n];l||(e.items.delete(p.k),y(e,p.prev,p.next)),Le(p.e,!l)}e.first===t[0]&&(e.first=t[0].prev)})}function Ge(e,t,a,u,s,d=null){var l=e,g={items:new Map,first:null},L=(t&j)!==0,n=(t&K)!==0,p=(t&X)!==0;if(L){var o=e;l=C?M(ne(o)):o.appendChild(z())}C&&re();var c=null,f=le(()=>{var r=a();return ge(r)?r:r==null?[]:$(r)}),v,m=!0;function x(){Ae(i,v,g,l,t,u),c!==null&&(v.length===0?(c.fragment?(l.before(c.fragment),c.fragment=null):J(c.effect),i.first=c.effect):ve(c.effect,()=>{c=null}))}var i=ie(()=>{v=B(f);var r=v.length;let T=!1;if(C){var w=se(l)===oe;w!==(r===0)&&(l=H(),M(l),U(!1),T=!0)}for(var h=new Set,S=de,E=null,k=pe(),b=0;b<r;b+=1){C&&D.nodeType===ue&&D.data===ce&&(l=D,T=!0,U(!1));var A=v[b],R=u(A,b),_=m?null:g.items.get(R);_?(n&&Z(_.v,A),p?Z(_.i,b):_.i=b,S.skipped_effects.delete(_.e)):(_=Re(m?l:null,E,A,R,b,s,t,a),m&&(_.o=!0,E===null?g.first=_:E.next=_,E=_),g.items.set(R,_)),h.add(R)}if(r===0&&d&&!c)if(m)c={fragment:null,effect:I(()=>d(l))};else{var O=document.createDocumentFragment(),G=z();O.append(G),c={fragment:O,effect:I(()=>d(G))}}C&&r>0&&M(H());for(const[te,ae]of g.items)h.has(te)||S.skipped_effects.add(ae.e);m||(k?(S.oncommit(x),S.ondiscard(()=>{})):x()),T&&U(!0),B(f)});m=!1,C&&(l=D)}function Ae(e,t,a,u,s,d){var l=(s&xe)!==0,g=t.length,L=a.items,n=a.first,p,o=null,c,f=[],v=[],m,x,i,r;if(l)for(r=0;r<g;r+=1)m=t[r],x=d(m,r),i=L.get(x),i.a?.measure(),(c??=new Set).add(i);for(r=0;r<g;r+=1){if(m=t[r],x=d(m,r),i=L.get(x),a.first??=i,!i.o){i.o=!0;var T=o?o.next:n;y(a,o,i),y(a,i,T),P(i,T,u),o=i,f=[],v=[],n=o.next;continue}if((i.e.f&N)!==0&&(J(i.e),l&&(i.a?.unfix(),(c??=new Set).delete(i))),i!==n){if(p!==void 0&&p.has(i)){if(f.length<v.length){var w=v[0],h;o=w.prev;var S=f[0],E=f[f.length-1];for(h=0;h<f.length;h+=1)P(f[h],w,u);for(h=0;h<v.length;h+=1)p.delete(v[h]);y(a,S.prev,E.next),y(a,o,S),y(a,E,w),n=w,o=E,r-=1,f=[],v=[]}else p.delete(i),P(i,n,u),y(a,i.prev,i.next),y(a,i,o===null?a.first:o.next),y(a,o,i),o=i;continue}for(f=[],v=[];n!==null&&n.k!==x;)(n.e.f&N)===0&&(p??=new Set).add(n),v.push(n),n=n.next;if(n===null)continue;i=n}f.push(i),o=i,n=i.next}if(n!==null||p!==void 0){for(var k=p===void 0?[]:$(p);n!==null;)(n.e.f&N)===0&&k.push(n),n=n.next;var b=k.length;if(b>0){var A=(s&j)!==0&&g===0?u:null;if(l){for(r=0;r<b;r+=1)k[r].a?.measure();for(r=0;r<b;r+=1)k[r].a?.fix()}we(a,k,A)}}l&&Q(()=>{if(c!==void 0)for(i of c)i.a?.apply()}),e.first=a.first&&a.first.e,e.last=o&&o.e,o&&(o.e.next=null)}function Re(e,t,a,u,s,d,l,g){var L=(l&K)!==0,n=(l&me)===0,p=L?n?fe(a,!1,!1):V(a):a,o=(l&X)===0?s:V(s),c={i:o,v:p,k:u,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var f=document.createDocumentFragment();f.append(e=z())}return c.e=I(()=>d(e,p,o,g)),c.e.prev=t&&t.e,t!==null&&(t.next=c,t.e.next=c.e),c}finally{}}function P(e,t,a){for(var u=e.next?e.next.e.nodes_start:a,s=t?t.e.nodes_start:a,d=e.e.nodes_start;d!==null&&d!==u;){var l=he(d);s.before(d),d=l}}function y(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const De=Symbol("is custom element"),Me=Symbol("is html");function Be(e){if(C){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var u=e.value;q(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var s=e.checked;q(e,"checked",null),e.checked=s}}};e.__on_r=a,Q(a),ke()}}function q(e,t,a,u){var s=Ue(e);C&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=a)&&(t==="loading"&&(e[Te]=a),a==null?e.removeAttribute(t):typeof a!="string"&&Ne(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function Ue(e){return e.__attributes??={[De]:e.nodeName.includes("-"),[Me]:e.namespaceURI===Ee}}var Y=new Map;function Ne(e){var t=e.getAttribute("is")||e.nodeName,a=Y.get(t);if(a)return a;Y.set(t,a=[]);for(var u,s=e,d=Element.prototype;d!==s;){u=Se(s);for(var l in u)u[l].set&&a.push(l);s=Ce(s)}return a}const ee={site:{title:"米游抽卡期望与分布计算器",description:"提供原神、崩坏：星穹铁道与绝区零的抽卡期望值与分布计算。支持自定义保底、命定值与蒙特卡洛模拟。",keywords:"抽卡,原神,星穹铁道,绝区零,抽卡模拟,保底,命定值,概率计算,期望,蒙特卡洛,zzz,genshin",ogLocale:"zh_CN",currency:"CNY",author:"Cyrene"},hero:{gameLine:"原神 / 崩坏：星穹铁道 / 绝区零",title:"多游戏抽卡期望 & 概率计算器",description:"输入当前垫抽、保底状态与目标数量，一键获得期望抽数、预算达成概率和欧非分布区间。"},form:{heading:"抽卡参数",subheading:"按顺序选择游戏与卡池，并填写目标与当前状态",basicsTitle:"基础配置",gameLabel:"游戏",gameOptions:{genshin:"原神",hsr:"崩坏：星穹铁道",zzz:"绝区零"},poolLabel:"卡池",poolOptions:{genshin:[{value:"character",label:"角色池"},{value:"weapon",label:"武器池"}],hsr:[{value:"character",label:"角色池"},{value:"lightcone",label:"光锥池"}],zzz:[{value:"character",label:"角色池"},{value:"weapon",label:"音擎池"}]},targetLabel:"目标数量",budgetLabel:"预算抽数（可选）",stateTitle:"当前状态",pityLabel:"当前垫抽",guaranteeLabel:"保底状态",guaranteeOptions:[{value:!1,label:"小保底（上次抽到 UP）"},{value:!0,label:"大保底（上次抽到常驻）"}],mingguangLabel:"明光计数（连续吃大保底多少次）（原神角色池）",fateLabel:"命定值（原神武器池）",advancedTitle:"高级选项",up4c6Label:"UP 四星已满命（角色池专用）",up4c6Unavailable:"当前卡池不支持 UP 四星满命配置，此选项自动忽略。",actions:{expectationLabel:"计算期望抽数",expectationLoading:"计算中...",distributionLabel:"模拟分布与概率",distributionLoading:"模拟运行中...",helper:"期望模式计算更快，分布模式更适合评估预算与风险敞口。"},errors:{invalidTarget:"目标数量必须为正整数",invalidBudget:"预算必须为正整数或留空",unknown:"未知错误，请稍后重试"}},buckets:{pullLabels:{p25:"欧皇",p50:"正常",p75:"偏非",p95:"非酋"},zoneLabels:{p25:"欧皇区",p50:"正常区",p75:"偏非区",p95:"非酋区"}},results:{heading:"结果概览",summary:"基于当前配置的抽卡期望与分布统计",modeLabel:"当前模式：",modeExpectation:"数学期望",modeDistribution:"模拟分布",reset:"清空结果",loadingDistribution:"正在运行模拟，耗时取决于循环次数，请稍候。",loadingExpectation:"正在计算数学期望，请稍候。",loadingNote:"大规模模拟会持续几秒，重算期间按钮已锁定，避免重复点击。",returnsDistributionTitle:"副产物返还分布（星辉 / 星芒 / 信号余波）",meanCard:{title:"期望抽数（平均值）",subtitle:"约折算原石 / 星琼 / 菲林："},successCard:{title:"预算达成概率",description:"在预算抽数内完成目标的大致概率",placeholder:"仅在模拟模式且填写预算时展示"},returnsCard:{title:"副产物返还（平均值）",description:"包含星辉 / 星芒 / 信号余波等返还资源",placeholder:"部分卡池或数学模式下不提供返还统计"},pullDistribution:{p25:{title:"25% 欧皇线（抽数）",description:"约 25% 概率在该抽数内毕业"},p50:{title:"50% 中位线（抽数）",description:"一半玩家在该抽数前完成"},p75:{title:"75% 偏非线（抽数）",description:"超过该抽数属于偏非情况"},p95:{title:"95% 天选非酋线（抽数）",description:"极端情况下可能达到的抽数上界"}},returnDistribution:{p25:{title:"25% 欧皇线（返还）",description:"约 25% 概率返还不低于该数值"},p50:{title:"50% 中位线（返还）",description:"一半模拟中返还不少于该数值"},p75:{title:"75% 偏非线（返还）",description:"低于该返还量属于偏非情况"},p95:{title:"95% 极端线（返还）",description:"极端欧皇情况下可能获得的返还上界"}},empty:{title:"尚未计算结果",description:"在左侧配置参数后，点击「计算期望抽数」或「模拟分布与概率」开始计算。"}},docs:{usageTitle:"使用说明",usage:["选择游戏与卡池，并填写目前垫抽与保底状态。","「期望抽数」使用数学模型进行快速估计。","「模拟分布」使用蒙特卡洛模拟，给出概率区间与预算达成概率。"],modelTitle:"模型说明",model:["角色池下的蒙特卡洛模拟次数更高，因此计算时间略长。"],noticeTitle:"注意事项",notice:["所有结果仅供参考，不代表官方概率与实际抽卡结果。"]},apiErrors:{emptyBody:"请求体为空或格式错误",invalidGame:"游戏类型不合法",invalidPool:"卡池类型不合法或与游戏不匹配",invalidTarget:"目标数量必须为正整数",invalidBudget:"预算必须为正整数或留空",unknown:"未知错误，请稍后重试"},engineErrors:{unsupportedCombination:e=>`不支持的游戏与卡池组合: ${e}`,matrixNotSquare:"solveLinearSystem 仅支持方阵",matrixVectorMismatch:"向量 b 的长度必须与矩阵 A 维度一致",matrixSingular:"线性方程组奇异或近似奇异，无法求解"}},Pe={site:{title:"Gacha Expectation & Distribution Calculator",description:"Provides gacha expectation and distribution calculations for Genshin Impact, Honkai: Star Rail, and Zenless Zone Zero. Supports custom pity, fate points, and Monte Carlo simulations.",keywords:"gacha,genshin,star rail,zzz,gacha simulation,pity,fate points,probability,expectation,monte carlo",ogLocale:"en_US",currency:"USD",author:"Cyrene"},hero:{gameLine:"Genshin Impact / Honkai: Star Rail / Zenless Zone Zero",title:"Multi-Game Gacha Expectation & Probability Calculator",description:"Enter your current pity, guarantee status, and target count to instantly get expected pulls, budget success rates, and luck distribution intervals."},form:{heading:"Gacha Parameters",subheading:"Select game and pool, then fill in target and current state",basicsTitle:"Basic Configuration",gameLabel:"Game",gameOptions:{genshin:"Genshin Impact",hsr:"Honkai: Star Rail",zzz:"Zenless Zone Zero"},poolLabel:"Pool",poolOptions:{genshin:[{value:"character",label:"Character Event"},{value:"weapon",label:"Weapon Event"}],hsr:[{value:"character",label:"Character Event"},{value:"lightcone",label:"Light Cone Event"}],zzz:[{value:"character",label:"Agent Search"},{value:"weapon",label:"W-Engine Search"}]},targetLabel:"Target Count",budgetLabel:"Budget Pulls (Optional)",stateTitle:"Current State",pityLabel:"Current Pity",guaranteeLabel:"Guarantee Status",guaranteeOptions:[{value:!1,label:"50/50 (Last pull was UP)"},{value:!0,label:"Guaranteed (Last pull was Standard)"}],mingguangLabel:"Capturing Radiance Counter (Genshin Character)",fateLabel:"Fate Points (Genshin Weapon)",advancedTitle:"Advanced Options",up4c6Label:"UP 4-Star C6 (Character Pool Only)",up4c6Unavailable:"Current pool does not support UP 4-Star C6 config, option ignored.",actions:{expectationLabel:"Calculate Expectation",expectationLoading:"Calculating...",distributionLabel:"Simulate Distribution",distributionLoading:"Simulating...",helper:"Expectation mode is faster; Distribution mode is better for assessing budget and risk."},errors:{invalidTarget:"Target count must be a positive integer",invalidBudget:"Budget must be a positive integer or empty",unknown:"Unknown error, please try again later"}},buckets:{pullLabels:{p25:"Lucky",p50:"Average",p75:"Unlucky",p95:"Very Unlucky"},zoneLabels:{p25:"Lucky Zone",p50:"Average Zone",p75:"Unlucky Zone",p95:"Very Unlucky Zone"}},results:{heading:"Results Overview",summary:"Gacha expectation and distribution statistics based on current configuration",modeLabel:"Current Mode: ",modeExpectation:"Mathematical Expectation",modeDistribution:"Simulation Distribution",reset:"Reset Results",loadingDistribution:"Running simulation, duration depends on iteration count, please wait.",loadingExpectation:"Calculating mathematical expectation, please wait.",loadingNote:"Large-scale simulations may take a few seconds. Buttons are locked during calculation to prevent duplicate clicks.",returnsDistributionTitle:"Return Distribution (Starglitter / Starlight / Residual Signal)",meanCard:{title:"Expected Pulls (Average)",subtitle:"Approx. Primogems / Stellar Jades / Polychromes: "},successCard:{title:"Budget Success Rate",description:"Approximate probability of achieving the target within the budget",placeholder:"Displayed only in simulation mode with budget filled"},returnsCard:{title:"Returns (Average)",description:"Includes Starglitter / Starlight / Residual Signal returns",placeholder:"Returns statistics not available in some pools or math mode"},pullDistribution:{p25:{title:"25% Lucky Line (Pulls)",description:"Approx. 25% chance to complete within this many pulls"},p50:{title:"50% Median Line (Pulls)",description:"Half of players complete before this many pulls"},p75:{title:"75% Unlucky Line (Pulls)",description:"Exceeding this many pulls is considered unlucky"},p95:{title:"95% Very Unlucky Line (Pulls)",description:"Upper bound of pulls in extreme cases"}},returnDistribution:{p25:{title:"25% Lucky Line (Returns)",description:"Approx. 25% chance returns are not lower than this value"},p50:{title:"50% Median Line (Returns)",description:"Half of simulations return no less than this value"},p75:{title:"75% Unlucky Line (Returns)",description:"Returns lower than this are considered unlucky"},p95:{title:"95% Extreme Line (Returns)",description:"Upper bound of returns in extreme lucky cases"}},empty:{title:"No Results Yet",description:'Configure parameters on the left, then click "Calculate Expectation" or "Simulate Distribution" to start.'}},docs:{usageTitle:"Usage Instructions",usage:["Select game and pool, and fill in current pity and guarantee status.",'"Expected Pulls" uses a mathematical model for quick estimation.','"Simulate Distribution" uses Monte Carlo simulation to provide probability intervals and budget success rates.'],modelTitle:"Model Explanation",model:["Monte Carlo simulations for character pools have higher iteration counts, so calculation time is slightly longer."],noticeTitle:"Notices",notice:["All results are for reference only and do not represent official probabilities or actual gacha results."]},apiErrors:{emptyBody:"Request body is empty or malformed",invalidGame:"Invalid game type",invalidPool:"Invalid pool type or mismatch with game",invalidTarget:"Target count must be a positive integer",invalidBudget:"Budget must be a positive integer or empty",unknown:"Unknown error, please try again later"},engineErrors:{unsupportedCombination:e=>`Unsupported game and pool combination: ${e}`,matrixNotSquare:"solveLinearSystem only supports square matrices",matrixVectorMismatch:"Length of vector b must match dimension of matrix A",matrixSingular:"Linear system is singular or nearly singular, cannot solve"}},ze=ee,F={"zh-cn":ee,en:Pe,"zh-tw":ze},W="zh-cn",He=e=>F[e??W]??F[W];export{W as d,Ge as e,He as g,Oe as i,Be as r,q as s};
